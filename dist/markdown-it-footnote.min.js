!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).markdownitFootnote=e()}}(function(){return function(){return function e(o,t,n){function r(f,i){if(!t[f]){if(!o[f]){var u="function"==typeof require&&require;if(!i&&u)return u(f,!0);if(s)return s(f,!0);var l=new Error("Cannot find module '"+f+"'");throw l.code="MODULE_NOT_FOUND",l}var a=t[f]={exports:{}};o[f][0].call(a.exports,function(e){return r(o[f][1][e]||e)},a,a.exports,e,o,t,n)}return t[f].exports}for(var s="function"==typeof require&&require,f=0;f<n.length;f++)r(n[f]);return r}}()({1:[function(e,o,t){"use strict";function n(e,o,t,n){var r=Number(e[o].meta.id+1).toString(),s="";return"string"==typeof n.docId&&(s="-"+n.docId+"-"),s+r}function r(e,o){var t=Number(e[o].meta.id+1).toString();return e[o].meta.subId>0&&(t+=":"+e[o].meta.subId),"["+t+"]"}function s(e,o,t,n,r){var s=r.rules.footnote_anchor_name(e,o,t,n,r),f=r.rules.footnote_caption(e,o,t,n,r),i=s;return e[o].meta.subId>0&&(i+=":"+e[o].meta.subId),e[o].meta.text?'<a href="#fn'+s+'" id="fnref'+i+'">'+e[o].meta.text+'<sup class="footnote-ref">'+f+"</sup></a>":'<sup class="footnote-ref"><a href="#fn'+s+'" id="fnref'+i+'">'+f+"</a></sup>"}function f(e,o,t){return(t.xhtmlOut?'<hr class="footnotes-sep" />\n':'<hr class="footnotes-sep">\n')+'<section class="footnotes">\n<ol class="footnotes-list">\n'}function i(){return"</ol>\n</section>\n"}function u(e,o,t,n,r){var s=r.rules.footnote_anchor_name(e,o,t,n,r);return e[o].meta.subId>0&&(s+=":"+e[o].meta.subId),'<li id="fn'+s+'" class="footnote-item">'}function l(){return"</li>\n"}function a(e,o,t,n,r){var s=r.rules.footnote_anchor_name(e,o,t,n,r);return e[o].meta.subId>0&&(s+=":"+e[o].meta.subId),' <a href="#fnref'+s+'" class="footnote-backref">\u21a9\ufe0e</a>'}o.exports=function(e){var o=e.helpers.parseLinkLabel,t=e.utils.isSpace;e.renderer.rules.footnote_ref=s,e.renderer.rules.footnote_block_open=f,e.renderer.rules.footnote_block_close=i,e.renderer.rules.footnote_open=u,e.renderer.rules.footnote_close=l,e.renderer.rules.footnote_anchor=a,e.renderer.rules.footnote_caption=r,e.renderer.rules.footnote_anchor_name=n,e.block.ruler.before("reference","footnote_def",function(e,o,n,r){var s,f,i,u,l,a,c,p,d,h,v,k=e.bMarks[o]+e.tShift[o],_=e.eMarks[o];if(k+4>_)return!1;if(91!==e.src.charCodeAt(k))return!1;if(94!==e.src.charCodeAt(k+1))return!1;for(l=k+2;l<_;l++){if(32===e.src.charCodeAt(l))return!1;if(93===e.src.charCodeAt(l))break}if(l===k+2)return!1;if(l+1>=_||58!==e.src.charCodeAt(++l))return!1;if(r)return!0;for(l++,e.env.footnotes||(e.env.footnotes={}),e.env.footnotes.refs||(e.env.footnotes.refs={}),a=e.src.slice(k+2,l-2),e.env.footnotes.refs[":"+a]=-1,(c=new e.Token("footnote_reference_open","",1)).meta={label:a},c.level=e.level++,e.tokens.push(c),s=e.bMarks[o],f=e.tShift[o],i=e.sCount[o],u=e.parentType,v=l,p=d=e.sCount[o]+l-(e.bMarks[o]+e.tShift[o]);l<_&&(h=e.src.charCodeAt(l),t(h));)9===h?d+=4-d%4:d++,l++;return e.tShift[o]=l-v,e.sCount[o]=d-p,e.bMarks[o]=v,e.blkIndent+=4,e.parentType="footnote",e.sCount[o]<e.blkIndent&&(e.sCount[o]+=e.blkIndent),e.md.block.tokenize(e,o,n,!0),e.parentType=u,e.blkIndent-=4,e.tShift[o]=f,e.sCount[o]=i,e.bMarks[o]=s,(c=new e.Token("footnote_reference_close","",-1)).level=--e.level,e.tokens.push(c),!0},{alt:["paragraph","reference"]}),e.inline.ruler.after("image","footnote_inline",function(e,t){var n,r,s,f,i=e.posMax,u=e.pos;return!(u+2>=i||94!==e.src.charCodeAt(u)||91!==e.src.charCodeAt(u+1)||(n=u+2,(r=o(e,u+1))<0||(t||(e.env.footnotes||(e.env.footnotes={}),e.env.footnotes.list||(e.env.footnotes.list=[]),s=e.env.footnotes.list.length,e.md.inline.parse(e.src.slice(n,r),e.md,e.env,f=[]),e.push("footnote_ref","",0).meta={id:s},e.env.footnotes.list[s]={content:e.src.slice(n,r),tokens:f}),e.pos=r+1,e.posMax=i,0)))}),e.inline.ruler.after("footnote_inline","footnote_ref_with_text",function(e,o){var t,n,r,s,f=e.posMax,i=e.pos;if(i+5>f)return!1;if(!e.env.footnotes||!e.env.footnotes.refs)return!1;if(91!==e.src.charCodeAt(i))return!1;if(94!==e.src.charCodeAt(i+1))return!1;for(n=i+2;n<f;n++){if(10===e.src.charCodeAt(n))return!1;if(93===e.src.charCodeAt(n))break}if(n===i+2)return!1;if(n>=f)return!1;if(n++,!(t=e.src.slice(i+2,n-1))||!t.match(/^(\S+)\s+(.+)$/))return!1;t=RegExp.$1;var u=RegExp.$2;return void 0!==e.env.footnotes.refs[":"+t]&&(o||(e.env.footnotes.list||(e.env.footnotes.list=[]),e.env.footnotes.refs[":"+t]<0?(r=e.env.footnotes.list.length,e.env.footnotes.list[r]={label:t,count:0},e.env.footnotes.refs[":"+t]=r):r=e.env.footnotes.refs[":"+t],s=e.env.footnotes.list[r].count,e.env.footnotes.list[r].count++,e.push("footnote_ref","",0).meta={id:r,subId:s,label:t,text:u}),e.pos=n,e.posMax=f,!0)}),e.inline.ruler.after("footnote_ref_with_text","footnote_ref",function(e,o){var t,n,r,s,f=e.posMax,i=e.pos;if(i+3>f)return!1;if(!e.env.footnotes||!e.env.footnotes.refs)return!1;if(91!==e.src.charCodeAt(i))return!1;if(94!==e.src.charCodeAt(i+1))return!1;for(n=i+2;n<f;n++){if(32===e.src.charCodeAt(n))return!1;if(10===e.src.charCodeAt(n))return!1;if(93===e.src.charCodeAt(n))break}return!(n===i+2||n>=f||(n++,t=e.src.slice(i+2,n-1),void 0===e.env.footnotes.refs[":"+t]||(o||(e.env.footnotes.list||(e.env.footnotes.list=[]),e.env.footnotes.refs[":"+t]<0?(r=e.env.footnotes.list.length,e.env.footnotes.list[r]={label:t,count:0},e.env.footnotes.refs[":"+t]=r):r=e.env.footnotes.refs[":"+t],s=e.env.footnotes.list[r].count,e.env.footnotes.list[r].count++,e.push("footnote_ref","",0).meta={id:r,subId:s,label:t}),e.pos=n,e.posMax=f,0)))}),e.core.ruler.after("inline","footnote_tail",function(e){var o,t,n,r,s,f,i,u,l,a,c=!1,p={};if(e.env.footnotes&&(e.tokens=e.tokens.filter(function(e){return"footnote_reference_open"===e.type?(c=!0,l=[],a=e.meta.label,!1):"footnote_reference_close"===e.type?(c=!1,p[":"+a]=l,!1):(c&&l.push(e),!c)}),e.env.footnotes.list)){for(f=e.env.footnotes.list,i=new e.Token("footnote_block_open","",1),e.tokens.push(i),o=0,t=f.length;o<t;o++){for((i=new e.Token("footnote_open","",1)).meta={id:o,label:f[o].label},e.tokens.push(i),f[o].tokens?(u=[],(i=new e.Token("paragraph_open","p",1)).block=!0,u.push(i),(i=new e.Token("inline","",0)).children=f[o].tokens,i.content=f[o].content,u.push(i),(i=new e.Token("paragraph_close","p",-1)).block=!0,u.push(i)):f[o].label&&(u=p[":"+f[o].label]),e.tokens=e.tokens.concat(u),s="paragraph_close"===e.tokens[e.tokens.length-1].type?e.tokens.pop():null,r=f[o].count>0?f[o].count:1,n=0;n<r;n++)(i=new e.Token("footnote_anchor","",0)).meta={id:o,subId:n,label:f[o].label},e.tokens.push(i);s&&e.tokens.push(s),i=new e.Token("footnote_close","",-1),e.tokens.push(i)}i=new e.Token("footnote_block_close","",-1),e.tokens.push(i)}})}},{}]},{},[1])(1)});
